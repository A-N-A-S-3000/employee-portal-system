<!DOCTYPE html>
<html>
<head>
  <title>Create Department</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  
<nav>
  <a href="../index.html">Home</a>
  <a href="../employees/employees.html">Employees</a>
  <a href="departments.html">Departments</a>
  <a href="../documents/documents.html">Documents</a>
  <a href="../shifts/shifts.html">Shifts</a>
  <a href="../swap_requests/swap_requests.html">Shift Swaps</a>
  <a href="../leave/leave.html">Leave Requests</a>
</nav>

  <h1>Create Department</h1>
  <form id="form">
    <input type="text" name="name" placeholder="Department Name" required><br><br>
    <button type="submit">Create</button>
  </form>

  <script>
    const form = document.getElementById("form");
    form.addEventListener("submit", function (e) {
      e.preventDefault();
      const data = Object.fromEntries(new FormData(form).entries());
      fetch("http://localhost:8000/departments/create/", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(data)
      }).then(res => {
        alert(res.ok ? "Created!" : "Failed.");
        if(res.ok) form.reset();
      });
    });
  </script>
</body>
</html>
